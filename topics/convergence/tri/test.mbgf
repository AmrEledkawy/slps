<?xml version="1.0" encoding="UTF-8"?>
<mbgf:sequence xmlns:bgf="http://planet-sl.org/bgf" xmlns:xbgf="http://planet-sl.org/xbgf" xmlns:mbgf="http://planet-sl.org/mbgf">
	<sources>
		<src name="dcg">snapshot/dcg.bgf</src>
		<src name="sdf">snapshot/sdf.bgf</src>
		<src name="rsc">snapshot/rascal.bgf</src>
	</sources>
	<!-- <naming-convention>
		<default>l_</default>
		<src name="dcg">l_</src>
		<src name="sdf,rsc">C_</src>
	</naming-convention> -->
	<!-- should be possible to do individual name bindings -->
	<name-bind><name>program</name><src name="dcg">program</src><src name="sdf,rsc">Program</src></name-bind>
	<name-bind><name>function</name><src name="dcg">function</src><src name="sdf,rsc">Function</src></name-bind>
	<name-bind><name>expr</name><src name="dcg">expr</src><src name="sdf,rsc">Expr</src></name-bind>
	<name-bind><name>name</name><src name="dcg">name</src><src name="sdf,rsc">Name</src></name-bind>
	<name-bind><name>newline</name><src name="dcg">newline</src><src name="sdf,rsc">Newline</src></name-bind>
	<name-bind><name>int</name><src name="dcg">int</src><src name="sdf,rsc">Int</src></name-bind>
	<name-bind><name>ops</name><src name="dcg">ops</src><src name="sdf,rsc">Ops</src></name-bind>
	
	<width>
		<bgf:expression>
			<nonterminal>newline</nonterminal>
		</bgf:expression>
		<src name="dcg,sdf">+</src>
		<src name="rsc">!</src>
		<in>
			<nonterminal>function</nonterminal>
		</in>
	</width>
	<unification id="uni">
		<nonterminal>expr</nonterminal>
		<src name="dcg">
			<bgf:production>
				<label>literal</label>
				<nonterminal>atom</nonterminal>
				<bgf:expression>
					<nonterminal>int</nonterminal>
				</bgf:expression>
			</bgf:production>
			<bgf:production>
				<label>argument</label>
				<nonterminal>atom</nonterminal>
				<bgf:expression>
					<nonterminal>name</nonterminal>
				</bgf:expression>
			</bgf:production>
			<bgf:production>
				<nonterminal>atom</nonterminal>
				<bgf:expression>
					<sequence>
						<bgf:expression>
							<terminal>(</terminal>
						</bgf:expression>
						<bgf:expression>
							<nonterminal>expr</nonterminal>
						</bgf:expression>
						<bgf:expression>
							<terminal>)</terminal>
						</bgf:expression>
					</sequence>
				</bgf:expression>
			</bgf:production>
			<in>
				<label>apply</label>
				<label>binary</label>
			</in>
		</src>
	</unification>
	<iteration id="iter" depends="uni:unite">
		<label>binary</label>
		<name>expr</name>
		<separator>ops</separator>
		<src name="dcg">iterate</src>
		<src name="sdf,rsc">lassoc</src>
	</iteration>
</mbgf:sequence>
