<?xml version="1.0"?>
<lcf:configuration xmlns:lcf="http://planet-sl.org/lcf">

  <shortcut>
    <name>slps</name>
    <expansion>../../..</expansion>
  </shortcut>
  <shortcut>
    <name>java</name>
    <expansion>..</expansion>
  </shortcut>
  <shortcut>
    <name>tools</name>
    <expansion>
      <expand>slps</expand>/shared/tools
    </expansion>
  </shortcut>

  <!--tool>
    <name>validation</name>
    <grammar>
      <expand>tools</expand>/checkxml bgf
    </grammar>
  </tool-->
  <tool>
    <name>comparison</name>
    <grammar>
      <expand>tools</expand>/gdt
    </grammar>
  </tool>
  <tool>
    <name>transformation</name>
    <grammar>
      <expand>tools</expand>/xbgf
    </grammar>
  </tool>

  <source>
    <name>app1</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls1/syntax.kw <expand>java</expand>/jls1/app.html
      </extraction>
    </grammar>
  </source>
  <source>
    <name>doc1</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls1/collect.kw <expand>java</expand>/jls1/doc.html
      </extraction>
    </grammar>
  </source>

  <source>
    <name>app2</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls2/app.html
      </extraction>
    </grammar>
  </source>
  <source>
    <name>doc2</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls2/collect.kw <expand>java</expand>/jls2/doc.html
      </extraction>
    </grammar>
  </source>

  <source>
    <name>app3</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls3/app.html
      </extraction>
    </grammar>
  </source>
  <source>
    <name>doc3</name>
    <grammar>
      <extraction>
        <expand>tools</expand>/html2bgf <expand>java</expand>/jls3/collect.kw <expand>java</expand>/jls3/doc.html
      </extraction>
    </grammar>
  </source>

  <target>
    <name>jls1</name>
    <branch>
      <input>app1</input>
      <perform>correct-app1</perform>
      <perform>prepare1</perform>
    </branch>
    <branch>
      <input>doc1</input>
      <perform>correct-doc1</perform>
      <perform>generalizeNames-doc1</perform>
      <perform>preferLALR</perform>
    </branch>
  </target>

  <target>
    <name>jls2</name>
    <branch>
      <input>app2</input>
      <perform>correct-app2</perform>
      <perform>prepare2</perform>
      <perform>refactorOps</perform>
      <perform>generalizeLabels</perform>
      <perform>allowMethodBodyEmpty</perform>
    </branch>
    <branch>
      <input>doc2</input>
      <perform>correct-doc2</perform>
      <perform>generalizeModifiers</perform>
      <perform>generalizeNames</perform>
      <perform>deyaccify-doc2</perform>
      <perform>refactorTypes-doc2</perform>
      <perform>refactorExpressions-doc2</perform>
      <perform>inlineStatements</perform>
      <perform>editExpressions-doc2</perform>
      <perform>refactorClasses-doc2</perform>
      <perform>refactorInterfaces-doc2</perform>
      <perform>refactorDeclarations-doc2</perform>
      <perform>extend-doc2</perform>
    </branch>
  </target>

  <!---->
  <target>
    <name>jls3</name>
    <branch>
      <input>app3</input>
      <perform>correct-app3</perform>
      <perform>prepare3</perform>
      <perform>generalizeLabels</perform>
      <perform>allowMethodBodyEmpty</perform>
    </branch>
    <branch>
      <input>doc3</input>
      <perform>correct-doc3</perform>
      <perform>generalizeModifiers</perform>
      <perform>generalizeNames</perform>
      <perform>deyaccify-doc2</perform>
      <perform>refactorTypes-doc3</perform>
      <perform>refactorExpressions-doc3</perform>
      <perform>inlineStatements</perform>
      <perform>editExpressions-doc3</perform>
      <perform>refactorClasses-doc3</perform>
      <perform>refactorInterfaces-doc3</perform>
      <perform>refactorEnumDeclarations</perform>
      <perform>refactorDeclarations-doc3</perform>
      <perform>extend-doc3</perform>
    </branch>
  </target>

  <target>
    <name>jls12</name>
    <branch>
      <input>jls1</input>
      <perform>refactorStatements</perform>
      <perform>refactorTypes-jls1</perform>
      <perform>editDeclarations</perform>
      <perform>refactorExpressions-doc2</perform>
      <perform>editExpressions</perform>
      <perform>extend-jls1</perform>
    </branch>
    <branch>
      <input>jls2</input>
    </branch>
  </target>
<!---->
  <target>
    <name>jls123</name>
    <branch>
      <input>jls12</input>
      <perform>prefer3</perform>
      <perform>extend-jls2</perform>
    </branch>
    <branch>
      <input>jls3</input>
    </branch>
  </target>

  <target>
    <name>doc12</name>
    <branch>
      <input>doc1</input>
      <perform>correct-doc1</perform>
      <perform>edit-doc1</perform>
      <perform>extend-doc1</perform>
    </branch>
    <branch>
      <input>doc2</input>
      <perform>correct-doc2</perform>
    </branch>
  </target>

  <target>
    <name>doc123</name>
    <branch>
      <input>doc12</input>
      <perform>extendModifiers</perform>
      <perform>extend-doc12</perform>
    </branch>
    <branch>
      <input>doc3</input>
      <perform>correct-doc3</perform>
    </branch>
  </target>

  <!--
  <target>
    <name>formal</name>
    <branch>
      <input>jls1app</input>
    </branch>
    <branch>
      <input>jls2app</input>
    </branch>
    <branch>
      <input>jls3app</input>
    </branch>
  </target>
-->
</lcf:configuration>
